<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Venturi - Furniture Store HTML Template</title>

    <!--Essential css files-->
    <link rel="stylesheet" href="~/assets/css/all.css">
    <link rel="stylesheet" href="~/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="~/assets/css/slick.css">
    <link rel="stylesheet" href="~/assets/css/jquery-ui.css">
    <link rel="stylesheet" href="~/assets/css/nice-select.css">
    <link rel="stylesheet" href="~/assets/css/fancybox.css">
    <link rel="stylesheet" href="~/assets/css/animate.css">
    <link rel="stylesheet" href="~/assets/css/magnific-popup.css">
    <link rel="stylesheet" href="~/assets/css/style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!--favicon-->
    <link rel="icon" href="~/assets/images/favicon.png">


</head>

<body class="@((ViewContext.RouteData.Values["Controller"]?.ToString() ?? "") == "Home"
            && (ViewContext.RouteData.Values["Action"]?.ToString() ?? "") == "Index"
            ? "home-page" : "other-page")">





    <!--preloader start-->
    <div class="preloader">
        <h1 class="display-1">Hinchko.com</h1>
        <div class="preload-progress">
            <span></span>
        </div>
    </div>
    <!--preloader end-->
    <!--header section start-->
    <header class="header-section hm2-header sticky-header bg-transparent">
        <div class="header-infobar d-none d-md-block">
            <div class="container-1700">
                <div class="row justify-content-between align-items-center">
                    <div class="col-lg-6 col-md-7">
                        <div class="infobar-text">
                            <p class="mb-0 text-uppercase fs-sm fw-semibold text-white">
                                <span class="me-3">
                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M12.9062 4.3125C12.9062 3.85547 12.5547 3.46875 12.0625 3.46875C11.6055 3.46875 11.2188 3.85547 11.2188 4.3125C11.2188 4.80469 11.6055 5.15625 12.0625 5.15625C12.5547 5.15625 12.9062 4.80469 12.9062 4.3125ZM16 2.0625C16 1.14844 15.2617 0.375 14.3125 0.375H9.07422C8.47656 0.375 7.91406 0.621094 7.49219 1.04297L1.30469 7.23047C0.425781 8.10938 0.425781 9.55078 1.30469 10.4297L5.98047 15.1055C6.85938 15.9844 8.30078 15.9844 9.17969 15.1055L15.3672 8.91797C15.7891 8.49609 16 7.93359 16 7.33594V2.0625ZM14.5586 8.14453L8.37109 14.332C7.94922 14.7539 7.21094 14.7539 6.78906 14.332L2.07812 9.62109C1.65625 9.19922 1.65625 8.46094 2.07812 8.03906L8.26562 1.85156C8.47656 1.64062 8.79297 1.5 9.07422 1.5H14.3125C14.6289 1.5 14.875 1.78125 14.875 2.0625V7.33594C14.875 7.61719 14.7695 7.93359 14.5586 8.14453ZM14.5586 8.14453L15.3672 8.91797L14.5586 8.14453Z" fill="#121111" />
                                    </svg>
                                </span>
                                <a href="/Account/Register" class="text-white">Sign up for get 15% off your first purchase!</a>
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-5">
                        <div class="d-flex align-items-center justify-content-end gap-60">
                            @if (User.Identity != null && User.Identity.IsAuthenticated)
                            {
                                <a href="@Url.Action("Logout", "Account")" class="infobar-link text-uppercase fs-sm fw-semibold">Logout</a>
                            }
                            else
                            {
                                <a href="@Url.Action("Login", "Account")" class="infobar-link text-uppercase fs-sm fw-semibold">My Account</a>
                            }


                            <div class="header-socials d-flex align-items-center justify-content-end gap-4">
                                <a href="#">IG</a>
                                <a href="#">FB</a>
                                <a href="#">TW</a>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="header-navbar">
            <div class="container-1700 position-relative">
                <div class="row align-items-center">
                    <div class="col-xl-3 col-5">
                        <div class="logo-wrapper">
                            <a href="Home/Index"><img src="~/assets/images/logo-white.png" class="img-fluid" alt="logo" /></a>
                        </div>
                    </div>
                    <div class="col-xl-6 col-lg-7 d-none d-xl-block">
                        <nav class="header-navigation text-center text-xl-start">
                            <ul>
                                <li><a asp-controller="Home" asp-action="Index">Home</a></li>
                                <li><a asp-controller="Shop" asp-action="Index">Shop</a></li>
                                <li><a asp-controller="ShoppingCart" asp-action="Index">Cart</a></li>
                                
                                <li class="has-submenu">
                                    <a href="javascript:void(0)">Products</a>
                                    <ul class="submenu-wrapper">
                                        <li><a href="/Product/Details">Product layout 01</a></li>
                                        <li><a href="product-details-v2.html">Product layout 02</a></li>
                                        <li><a href="product-details-v3.html">Product layout 03</a></li>
                                    </ul>
                                </li>
                                <li><a asp-controller="Contact" asp-action="Index">Contact</a></li>

                            </ul>
                        </nav>
                    </div>
                    <div class="col-xl-3 col-7">
                        <div class="header-right d-flex align-items-center justify-content-end justify-content-xl-between gap-3 gap-sm-4 gap-lg-3">
                            <div class="header-icons d-inline-flex align-items-center gap-prt-16 gap-32">
                                <div class="header-search">
                                    <button type="button" class="header-search-btn">
                                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M14.2049 12.952L18 16.7462L16.7462 18L12.952 14.2049C11.5402 15.3366 9.78419 15.9522 7.9748 15.9496C3.57271 15.9496 0 12.3769 0 7.9748C0 3.57271 3.57271 0 7.9748 0C12.3769 0 15.9496 3.57271 15.9496 7.9748C15.9522 9.78419 15.3366 11.5402 14.2049 12.952ZM12.4274 12.2945C13.5519 11.138 14.18 9.58786 14.1774 7.9748C14.1774 4.54741 11.4013 1.77218 7.9748 1.77218C4.54741 1.77218 1.77218 4.54741 1.77218 7.9748C1.77218 11.4013 4.54741 14.1774 7.9748 14.1774C9.58786 14.18 11.138 13.5519 12.2945 12.4274L12.4274 12.2945V12.2945Z" fill="#121111" />
                                        </svg>
                                    </button>
                                </div>
                                <div class="header-wishlist d-none d-sm-inline-block position-relative">
                                    <a href="@Url.Action("Index", "Wishlist")" class="wishlist-icon">
                                        <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M9.73861 1.48886C12.026 -0.564802 15.5607 -0.496639 17.7644 1.71088C19.967 3.91938 20.043 7.43661 17.9942 9.7308L9.73667 18L1.4811 9.7308C-0.567698 7.43661 -0.490771 3.91354 1.71091 1.71088C3.91648 -0.493718 7.44443 -0.567724 9.73861 1.48886V1.48886ZM16.3855 3.08681C14.9249 1.62422 12.5684 1.56482 11.0396 2.93783L9.73959 4.10439L8.43864 2.9388C6.90496 1.56384 4.55332 1.62422 3.08878 3.08876C1.63788 4.53967 1.56484 6.86209 2.90182 8.39674L9.73764 15.2433L16.5735 8.39772C17.9114 6.86209 17.8384 4.54259 16.3855 3.08681V3.08681Z" fill="#121111" />
                                        </svg>
                                        <span class="wishlist-item-count wishlist-count-badge">0</span> <!-- ✅ Wishlist count badge -->
                                    </a>
                                </div>


                                <div class="header-cart">
                                    <span class="cart-icon">
                                        <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M18.7188 14V2H20.7188V0H17.7188C17.4535 0 17.1992 0.105357 17.0116 0.292893C16.8241 0.48043 16.7188 0.734784 16.7188 1V13H4.28075L2.28075 5H14.7188V3H0.998751C0.846745 3 0.696739 3.03466 0.560137 3.10134C0.423535 3.16801 0.303931 3.26495 0.210415 3.38479C0.116899 3.50462 0.0519333 3.6442 0.0204544 3.79291C-0.0110245 3.94162 -0.00818793 4.09555 0.0287495 4.243L2.52875 14.243C2.58292 14.4592 2.7078 14.6512 2.88354 14.7883C3.05929 14.9255 3.27582 15 3.49875 15H17.7188C17.984 15 18.2383 14.8946 18.4259 14.7071C18.6134 14.5196 18.7188 14.2652 18.7188 14V14ZM16.7188 21C17.2492 21 17.7579 20.7893 18.133 20.4142C18.508 20.0391 18.7188 19.5304 18.7188 19C18.7188 18.4696 18.508 17.9609 18.133 17.5858C17.7579 17.2107 17.2492 17 16.7188 17C16.1883 17 15.6796 17.2107 15.3045 17.5858C14.9295 17.9609 14.7188 18.4696 14.7188 19C14.7188 19.5304 14.9295 20.0391 15.3045 20.4142C15.6796 20.7893 16.1883 21 16.7188 21ZM4.71875 21C5.24918 21 5.75789 20.7893 6.13296 20.4142C6.50804 20.0391 6.71875 19.5304 6.71875 19C6.71875 18.4696 6.50804 17.9609 6.13296 17.5858C5.75789 17.2107 5.24918 17 4.71875 17C4.18832 17 3.67961 17.2107 3.30454 17.5858C2.92946 17.9609 2.71875 18.4696 2.71875 19C2.71875 19.5304 2.92946 20.0391 3.30454 20.4142C3.67961 20.7893 4.18832 21 4.71875 21Z" fill="#121111" />
                                        </svg>
                                        <sub class="cart-item">2</sub>
                                    </span>
                                    <span class="cart-amount fw-medium text-main-color ms-3 d-none d-xl-inline-block">$225.00</span>
                                </div>
                            </div>
                            <div class="header-toggle">
                                <button class="header-toggle-btn offcanvus-toggle d-none d-xl-inline-block">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </button>
                                <button class="header-toggle-btn mobile-menu-toggle d-xl-none">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!--header section end-->
    <!--header serch box start-->
    <div class="header-search-box">
        <form action="#">
            <label class="position-relative">
                <i class="fas fa-magnifying-glass"></i>
                <input type="text" placeholder="Search here....">
            </label>
        </form>
        <a href="javascript:void(0)" class="search-close"><i class="fa-solid fa-xmark"></i></a>
    </div>
    <!--header search box end-->
    <!--mobile menu start-->
    <div class="mobile-menu">
        <a href="javascript:void(0)" class="close"><i class="fas fa-xmark"></i></a>
        <a href="#" class="logo py-3"><img src="~/assets/images/logo.png" alt="logo" class="img-fluid"></a>
        <ul class="mobile-nav-menu">
            <li class="has-submenu">
                <a href="javascript:void(0)">Home</a>
                <i class="fas fa-angle-down"></i>
                <ul class="submenu-wrapper">
                    <li><a href="index.html">Home Page 1</a></li>
                    <li><a href="index-2.html">Home Page 2</a></li>
                    <li><a href="index-3.html">Home Page 3</a></li>
                    <li><a href="index-4.html">Home Page 4</a></li>
                    <li><a href="index-5.html">Home Page 5</a></li>
                    <li><a href="index-6.html">Home Page 6</a></li>
                </ul>
            </li>
            <li><a href="about.html">About</a></li>
            <li class="has-submenu">
                <a href="javascript:void(0)">Pages</a>
                <i class="fas fa-angle-down"></i>
                <ul class="submenu-wrapper">
                    <li><a href="cart.html">Cart</a></li>
                    <li><a href="checkout.html">Checkout</a></li>
                    <li><a href="faq.html">Faq</a></li>
                    <li><a href="">Wishlist</a></li>
                    <li><a href="order-tracking.html">Order Tracking</a></li>
                </ul>

            </li>
            <li class="has-submenu">
                <a href="javascript:void(0)">Blog</a>
                <i class="fas fa-angle-down"></i>
                <ul class="submenu-wrapper">
                    <li><a href="blog.html">Blog List</a></li>
                    <li><a href="blog-single.html">Blog Details</a></li>
                </ul>
            </li>
            <li class="has-submenu">
                <a href="javascript:void(0)">Shop</a>
                <i class="fas fa-angle-down"></i>
                <ul class="submenu-wrapper">
                    <li><a href="shop.html">Shop Grid</a></li>
                    <li><a href="shop-list.html">Shop List</a></li>
                    <li><a href="product-details.html">Product Details</a></li>
                </ul>
            </li>
            <li><a href="wishlist.html">Wishlist</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
    </div>
    <!--mobile menu end-->
    <!--cart drawer start-->
    <div class="cart-drawer position-fixed">
        <div class="drawer-close d-flex align-items-center justify-content-between position-absolute start-0 top-0 w-100 px-4 py-4 border-bottom">
            <h6 class="mb-0 fw-medium">Your Cart (<span id="cart-count">0</span>)</h6>
            <a href="javascript:void(0)" class="drawer-close"><i class="fas fa-xmark"></i></a>
        </div>
        <ul class="cart-list">
            <!-- ✅ Cart items will be dynamically added here -->
        </ul>
        <div class="drawer-bottom border-top">
            <div class="d-flex align-items-center justify-content-between">
                <h6 class="mb-0">Total:</h6>
                <span id="cart-total" class="fw-semibold text-main-color">$0.00</span>
            </div> 
            <a href="/ShoppingCart/Index" class="template-btn primary-btn text-uppercase fw-semibold w-100 text-center mt-4"><span>View Cart</span></a>
            <a asp-controller="Order" asp-action="Checkout" class="template-btn outline-btn text-uppercase fw-semibold w-100 text-center mt-3">Checkout</a>

        </div>
    </div>
    <!--cart drawer end-->
    <!--offcanvus start-->
    <div class="offcanvus-box position-fixed bg-white">
        <a href="javascript:void(0)" class="offcanvus-close"><i class="fa-solid fa-xmark"></i></a>
        <div class="content-top">
            <a href="index.html" class="offcanvus-logo"><img src="~/assets/images/logo.png" alt="logo"></a>
            <p class="mb-0 mt-32 fw-light">Distrak Street 2SK Line, Germanygalore@inside-support.com (+125) 2156-2145</p>
        </div>
        <div class="offcanvus-gallery d-flex align-items-center flex-wrap">
            <a href="javascript:void(0)"><img src="~/assets/images/gallery/sidebar-item-1.jpg" alt="not found"></a>
            <a href="javascript:void(0)"><img src="~/assets/images/gallery/sidebar-item-2.jpg" alt="not found"></a>
            <a href="javascript:void(0)"><img src="~/assets/images/gallery/sidebar-item-3.jpg" alt="not found"></a>
            <a href="javascript:void(0)"><img src="~/assets/images/gallery/sidebar-item-4.jpg" alt="not found"></a>
        </div>
        <div class="offcanvus-newsletter">
            <h4 class="mb-4 text-center">Newsletter</h4>
            <form action="#">
                <input type="email" placeholder="Enter your e-mail" class="theme-input">
                <button type="submit" class="template-btn primary-btn mt-3 w-100"><span>SUBSCRIBE NOW</span></button>
            </form>
        </div>
        <div class="offcanvus-bottom d-flex align-items-center justify-content-between">
            <div class="language-switcher">
                <div class="dropdown">
                    <button type="button" data-bs-toggle="dropdown">English <span><i class="fas fa-angle-down"></i></span></button>
                    <ul class="dropdown-menu">
                        <li><a href="#">Bangla</a></li>
                        <li><a href="#">Hindi</a></li>
                    </ul>
                </div>
            </div>
            <div class="currency-switcher">
                <select>
                    <option>USD</option>
                    <option>BDT</option>
                    <option>CNY</option>
                </select>
            </div>
            <div class="user-links">
                <a href="login.html"><span class="me-2"><i class="fa-regular fa-user"></i></span>Account</a>
            </div>
        </div>
    </div>
    <!--offcanvus end-->





    <main>
        @RenderBody()
    </main>

   
    <!--footer section start-->
    <footer class="footer-style-2 pt-140 overflow-hidden position-relative footer-mobile-accordion">
        <div class="container-1240">
            <div class="row justify-content-center">
                <div class="col-xl-6 col-lg-10">
                    <div class="hm2-footer-top text-center">
                        <h3 class="mb-60 hm2-font-family fw-normal">Join Our Newsletter</h3>
                        <form class="hm2-sb-form" action="#">
                            <input type="email" placeholder="Your Email*" />
                            <button type="submit" class="template-btn primary-btn">Sign Up <span class=""><i class="fa-regular fa-envelope"></i></span></button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xl-3 col-sm-6">
                    <div class="hm2-footer-widget">
                        <h5 class="mb-40 fw-medium text-capitalize">Showroom & Store</h5>
                        <div class="footer-address">
                            <a href="tel:256-31556.2369">+256-31556.2369</a><br>
                            <a href="mailto:hello@Venturifur.com" class="mail">hello@Venturifur.com</a>
                            <p class="mt-32">219 Geom Street. UYS Office 215 Frankfurt-Germany</p>
                        </div>
                    </div>
                </div>
                <div class="col-xl-2 offset-xl-1 col-sm-6">
                    <div class="footer-widget footer-nav-widget">
                        <h5 class="widget-title mb-40 fw-medium text-capitalize">Quick Info</h5>
                        <ul class="footer-links">
                            <li><a href="#">Work</a></li>
                            <li><a href="#">Services</a></li>
                            <li><a href="#">About</a></li>
                            <li><a href="#">Contact</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-xl-2 offset-xl-1 col-sm-6">
                    <div class="footer-widget footer-nav-widget">
                        <h5 class="widget-title mb-40 fw-medium text-capitalize">Customer</h5>
                        <ul class="footer-links">
                            <li><a href="#">Help & Contact Us</a></li>
                            <li><a href="#">Return & Refunds</a></li>
                            <li><a href="#">Delivery Information</a></li>
                            <li><a href="#">Terms & Conditions</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-xl-2 offset-xl-1 col-sm-6">
                    <div class="footer-widget footer-nav-widget">
                        <h5 class="widget-title mb-40 fw-medium text-capitalize">Profile</h5>
                        <ul class="footer-links">
                            <li><a href="#">My Account</a></li>
                            <li><a href="#">Checkout</a></li>
                            <li><a href="#">Order Tracking</a></li>
                            <li><a href="#">Help & Support</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="hm2-footer-copyright">
                <div class="row align-items-center g-3">
                    <div class="col-lg-6">
                        <p class="mb-0 fs-sm">&copy; <a href="index.html">2023 Venturi</a>. All Rights Reserved</p>
                    </div>
                    <div class="col-xl-6">
                        <p class="mb-0 fs-sm">We use cookies to give you the best experience on our website. <a href="#" class="text-main-color text-decoration-underline">Cookie settings</a></p>
                    </div>
                </div>
            </div>
        </div>
        <a href="#" class="hm2-scrolltop">Back To Top<span class="ms-2"><i class="fas fa-arrow-right"></i></span></a>
    </footer>
    <!--footer section end-->

    <!--Esential Js Files-->
    <script src="~/assets/js/jquery.min.js"></script>
    <script src="~/assets/js/popper.min.js"></script>
    <script src="~/assets/js/bootstrap.min.js"></script>
    <script src="~/assets/js/slick.js"></script>
    <script src="~/assets/js/jquery-ui.js"></script>
    <script src="~/assets/js/nice-select.js"></script>
    <script src="~/assets/js/fancybox.js"></script>
    <script src="~/assets/js/countdown.min.js"></script>
    <script src="~/assets/js/wow.js"></script>
    <script src="~/assets/js/progress-bar.js"></script>
    <script src="~/assets/js/parallax.js"></script>
    <script src="~/assets/js/tilt-js.js"></script>
    <script src="~/assets/js/magnific-popup.js"></script>
    <script src="~/assets/js/waypoints.js"></script>
    <script src="~/assets/js/counterup.min.js"></script>
    <script src="~/assets/js/preloader.js"></script>
    <script src="~/assets/js/isotop.min.js"></script>
    <script src="~/assets/js/jquery.zoom.js"></script>
    <script src="~/assets/js/script.js"></script>

    
</body>
</html>



<script>
    $(document).ready(function () {
        updateCartCount();
        fetchCartItems();// ✅ Load cart count on page load
        updateWishlistCount();

         let header = $(".header-section");

    // ✅ If NOT on the Home page, apply background color immediately
    if (!$("body").hasClass("home-page")) {
        header.removeClass("bg-transparent").addClass("bg-red"); // ✅ Use bg-red or your preferred color
    }

    // ✅ Handle scrolling behavior
    $(window).on("scroll", function () {
        if ($(window).scrollTop() > 50) {
            header.addClass("bg-red shadow"); // ✅ Apply shadow on scroll
        } else {
            if ($("body").hasClass("home-page")) {
                header.removeClass("bg-red shadow").addClass("bg-transparent"); // ✅ Keep transparent only on home page
            }
        }
    });

        // ✅ Function to update cart count in header
            function updateCartCount() {
        $.get("/ShoppingCart/GetCartSummary", function (response) {
            if (response.success) {
                $(".cart-item").text(response.count); // ✅ Update cart item count
                $(".cart-amount").text("$" + response.totalPrice.toFixed(2)); // ✅ Update total price
            } else {
                console.error("Failed to update cart count.");
            }
        }).fail(function () {
            console.error("Error fetching cart summary.");
        });
    }

            $(".cart-drawer").on("click", function () {
        fetchCartItems();
    });

     function fetchCartItems() {
        $.get("/ShoppingCart/GetCartItems", function (response) {
            if (response.success) {
                updateCartDrawer(response.cartItems, response.totalPrice); // ✅ Update cart drawer with items
            }
        }).fail(function () {
            console.error("Failed to fetch cart items.");
        });
    }

        // ✅ Click event for "Add to Cart" (Prevents Redirect)
      $(document).on("click", ".add-to-cart", function (event) {
        event.preventDefault(); // ✅ Prevent default link behavior

        let productId = $(this).data("id");

          $.post("/ShoppingCart/AddToCart", { productId: productId }, function (response) {
        if (response.success) {
            alert(response.message); // ✅ Show "Added to cart!"

            // ✅ Manually fetch updated cart items after adding
            fetchCartItems();

            $(".cart-drawer").addClass("open"); // ✅ Open the cart drawer
        } else {
            alert(response.message || "Something went wrong!"); // ✅ Proper fallback message
        }
    }).fail(function () {
        alert("Error adding product to cart. Please try again!"); // ✅ Handle AJAX errors
    });

    });

    // ✅ Function to update the cart drawer dynamically
     function updateCartDrawer(cartItems, totalPrice) {
        let cartList = $(".cart-list");
        let cartCount = $("#cart-count");
        let totalAmount = $("#cart-total");

        // ✅ Also update header cart (icon)
        let headerCartCount = $(".cart-item");
        let headerTotalPrice = $(".cart-amount");

        cartList.empty();

        if (cartItems.length === 0) {
            cartList.append("<li class='text-center py-3'>Your cart is empty</li>");
            cartCount.text("0");
            totalAmount.text("$0.00");

            // ✅ Update header cart too
            headerCartCount.text("0");
            headerTotalPrice.text("$0.00");
            return;
        }

        let totalItems = cartItems.reduce((sum, item) => sum + item.quantity, 0);

        cartCount.text(totalItems);
        totalAmount.text("$" + totalPrice.toFixed(2));

        // ✅ Update header cart values
        headerCartCount.text(totalItems);
        headerTotalPrice.text("$" + totalPrice.toFixed(2));

        cartItems.forEach(item => {
            let cartItemHTML = `
                <li class="d-flex align-items-center gap-3">
                    <div class="feature-image light-bg">
                        <a href="#"><img src="${item.imageUrl}" alt="${item.name}" class="img-fluid"></a>
                    </div>
                    <div class="d-flex justify-content-between gap-3 w-100">
                        <div>
                            <a href="#"><h6 class="mb-1">${item.name}</h6></a>
                            <span class="price fw-medium secondary-text-color d-block mb-1 fs-sm">$${(item.price * item.quantity).toFixed(2)}</span>
                            <div class="quantity d-flex align-items-center">
                                <input type="text" value="${item.quantity}" readonly>
                                <div class="step-btns">
                                    <button class="increment" data-id="${item.id}"><i class="fa-solid fa-angle-up"></i></button>
                                    <button class="decrement" data-id="${item.id}"><i class="fa-solid fa-angle-down"></i></button>
                                </div>
                            </div>
                        </div>
                        <div>
                            <a href="javascript:void(0)" class="close remove-item" data-id="${item.id}"><i class="fas fa-xmark"></i></a>
                        </div>
                    </div>
                </li>
            `;
            cartList.append(cartItemHTML);
        });
    }




     $(document).on("click", ".remove-from-cart", function () {
        var productId = $(this).data("product-id");

        $.post("/ShoppingCart/RemoveFromCart", { productId: productId }, function (response) {
            if (response.success) {
                alert(response.message); // ✅ Show success message
                updateCartDrawer(response.cartItems, response.totalPrice); // ✅ Update UI dynamically
            } else {
                alert("Error: " + response.message); // ✅ Show error only if needed
            }
        }).fail(function () {
            alert("Error removing product from cart. Please try again!"); // ✅ Handle failure case
        });
    });


        // ✅ Increment & Decrement Quantity
        $(document).on("click", ".increment", function () {
            let productId = $(this).data("id");

            $.post("/ShoppingCart/IncreaseQuantity", { productId: productId }, function (response) {
                if (response.success) {
                    updateCartDrawer(); // ✅ Refresh cart UI
                }
            });
        });

        $(document).on("click", ".decrement", function () {
            let productId = $(this).data("id");

            $.post("/ShoppingCart/DecreaseQuantity", { productId: productId }, function (response) {
                if (response.success) {
                    updateCartDrawer(); // ✅ Refresh cart UI
                }
            });
        });

        // ✅ Close Cart Drawer
        $(".drawer-close").click(function () {
            $(".cart-drawer").removeClass("open");
        });
            $(document).on("click", ".remove-item", function (event) {
        event.preventDefault(); // ✅ Prevent default link behavior

        let productId = $(this).data("id");

        $.post("/ShoppingCart/RemoveFromCart", { productId: productId }, function (response) {
            if (response.success) {
                alert(response.message); // ✅ Show "Item removed from cart!"
                updateCartDrawer(response.cartItems, response.totalPrice); // ✅ Update cart drawer
            } else {
                alert(response.message || "Something went wrong!"); // ✅ Proper fallback message
            }
        }).fail(function () {
            alert("Error removing product from cart. Please try again!"); // ✅ Handle AJAX errors
        });
    });
         function updateWishlistCount() {
            $.get("/Wishlist/GetWishlistCount", function (response) {
                if (response.success) {
                    $(".wishlist-item-count").text(response.count); // ✅ Update wishlist count dynamically
                }
            }).fail(function () {
                console.error("Error fetching wishlist count.");
            });
        }

    });




</script>

<style>
    /* Position relative to the wishlist icon */
    .header-wishlist {
        position: relative;
        display: inline-block;
    }

    .other-page .header-section {
        background-color: #6B1717 !important; /* ✅ Set background for other pages */
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
        transition: background-color 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
    }

    .home-page .header-section {
        background-color: transparent !important; /* ✅ Home page remains transparent */
    }



    /* Wishlist badge styling */
    .wishlist-count-badge {
        position: absolute;
        top: -5px; /* Adjust vertical position */
        right: -10px; /* Adjust horizontal position */
        background-color: red; /* Badge color */
        color: white; /* Text color */
        font-size: 12px; /* Font size */
        font-weight: bold;
        width: 18px; /* Circle size */
        height: 18px; /* Circle size */
        line-height: 18px; /* Center text */
        text-align: center;
        border-radius: 50%; /* Make it a circle */
        display: flex;
        justify-content: center;
        align-items: center;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.2); /* Slight shadow for better visibility */
    }

</style>